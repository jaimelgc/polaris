{% extends "base.html" %}
{% load static %}

{% block title %}Dashboard{% endblock %}

{% load static %}

{% block header %}
    {% include 'header_dashboard.html' %}
{% endblock %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-2 bg-lgt-gray d-flex flex-column pt-3">
                <ul class="list-group list-group-flush bg-lgt-gray">Cuentas
                {% for account in accounts %}
                <a href="http://127.0.0.1:8000/client/{{ account.slug }}/" class="list-group-item list-group-item-action rounded bg-lgt-gray">{{ account.alias }}</a>
                {% endfor %}
                </ul><hr> 
                <ul class="list-group list-group-flush bg-lgt-gray pb-3">Tarjetas
                {% for card in cards %}
                    <a href="#" class="list-group-item list-group-item-action rounded bg-lgt-gray">{{ card.alias }}</a>
                {% endfor %}
                </ul>
            </div>
            <div class="col-10 p-5">
                <div class="col-12">
                    <div class="row bg-stg-blue text-white">
                        <div class="col-6 d-flex p-4">
                            <h2 class="m-0">{{ acc_detail.alias }}</h2>
                        </div>
                        <div class="col-6 d-flex justify-content-end align-items-end p-4">
                            <p class="m-0">Saldo: {{ acc_detail.balance }}€</p>
                        </div>
                    </div>
                    <div class="row bg-white">
                        <div class="col-6 d-flex p-4">
                            <p class="m-0">Ingresos último mes: {{ acc_detail.income }}€</p>
                        </div>
                        <div class="col-6 d-flex justify-content-end align-items-end p-4">
                            <p class="m-0">Gastos último mes: {{ acc_detail.expenses }}€</p>
                        </div>
                    </div>
                </div>
                <div class="row bg-stg-blue">
                    <div class="col-12 d-flex justify-content-center align-items-center p-3">
                        <a href="#" class="link-nos-white">Buscar Movimientos</a>
                        <a href="#" class="link-nos-white">Transferencias/Traspasos</a>
                        <a href="#" class="link-nos-white">Tarjetas</a>
                        <a href="#" class="link-nos-white">Ver más</a>
                    </div>
                </div>
                <div class="row">
                    <div class="row p-4">
                        <h4>Título de lo que sea</h4>
                    </div>
                    <div class="row p-4">
                        <ul>
                            {% comment %} <li>bucle para lo que sea</li> {% endcomment %}
                        </ul>
                    </div>
                </div>          
            </div>
        </div> 
    </div>
{% endblock %}

  <!--Contenedor central-->

  <div class="col-lg-10 d-sm-flex d-none">
      <div class="container cnt">
        {% for account in accounts %}
                <div class="row rw blue">
                    <div class="col-9" style="font-size: 35px;">{{ account.alias }}</div>
                    <div class="col-3">Saldo: {{ account.balance }} €</div>
                </div>
                <div class="row rw">
                    <div class="col-6">INGRESOS ÚLTIMO MES: {{ account.income }} €</div>
                    <div class="col-6">GASTOS ÚLTIMO MES: {{ account.expenses }} €</div>
                </div>

          <div class="row blue">
              <div class="col-2"></div>
              <div class="link-row-low col-8 d-none d-lg-flex">
                  <a class="link-low" href="#">BUSCAR MOVIMIENTOS</a>
                  <div class="line-low"></div>
                  <a class="link-low" href="#">TRANSFERENCIAS</a>
                  <div class="line-low"></div>
                  <a class="link-low" href="#">TARJETAS</a>
                  <div class="line-low"></div>
                  <a class="link-low" href="#">VER MÁS</a>
              </div>
          </div>
          <div class="row rw">
              <div class="col-12">MOVIMIENTOS ÚLTIMO MES</div>
              <div class="row">
                  <div class="col-1"></div>
                  <div class="col-11">Placehlder
                    <!-- {% for account in accounts %}
                        <div class="row rw">
                            <div class="col-12">{{ account.alias }}</div>
                            <div class="col-12">Balance: {{ account.balance }} €</div>
                            <div class="col-4">
                                <a href="#">Detalles</a>
                            </div>
                        </div>
                    {% endfor %} -->
                      <div class="row"></div>
                      <div class="row"></div>
                  </div>
              </div>
          </div>
          <div class="row rw">
              <div class="col-12">TARJETAS</div>
              <div class="row">
                  <div class="col-2"></div>
                  <div class="col-5">
                    {% for card in cards %}
                        <div class="row rw">
                            <div class="col-12">{{ card.alias }}</div>
                        </div>
                        <div class="row rw">
                            <div class="col-12">
                                {% if card.image %}
                                    <img class="col-8 vh-10" src="{{ card.image.url }}" alt="card">
                                {% else %}
                                    <p> Sin imagen disponible </p>
                                {% endif %}
                            </div>
                        </div>
                    {% endfor %}
                      <div class="row"></div>
                      <div class="row"></div>
                  </div>
              </div>
          </div>
        {% endfor %}
      </div>
  </div>

  <!--Main XS-->

  <div class="col-12 d-sm-none d-flex">
      <div class="container cnt">
          <div class="row rw blue">
              <div class="col-12" style="font-size: 35px;">Cuentas</div>
          </div>
          <!--Placeholder cuenta XS-->
            {% for account in accounts %}
                    <div class="row rw">
                        <div class="col-12">{{ account.alias }}</div>
                        <div class="col-12">Balance: {{ account.balance }} €</div>
                        <div class="col-4">
                            <a href="#">Detalles</a>
                        </div>
                    </div>
            {% endfor %}
      </div>
  </div>
  <div class="col-12 d-sm-none d-flex">
      <div class="container cnt">
          <div class="row rw blue">
              <div class="col-12" style="font-size: 35px;">Tarjetas</div>
          </div>
          <!--Placeholder tarjeta XS-->
          {% for card in cards %}
                <div class="row rw">
                    <div class="col-12">{{ card.alias }}</div>
                </div>
                <div class="row rw">
                    <div class="col-2"></div>
                    <div class="col-10">
                        {% if card.image %}
                            <img class="col-12 vh-20" src="{{ card.image.url }}" alt="card">
                        {% else %}
                            <p> Sin imagen disponible </p>
                        {% endif %}
                    </div>
                </div>
          {% endfor %}
      </div>
  </div>
</div>
{% endblock %}